(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[467],{1356:function(e,t,s){Promise.resolve().then(s.bind(s,872))},872:function(e,t,s){"use strict";s.r(t);var a=s(7437),d=s(2265),l=s(9064),c=s(3426),o=s(8513),i=s(3584),r=s(5662),n=s(134),u=s(1758),h=s(6623);t.default=()=>{let[e,t]=(0,d.useState)([]),[s,m]=(0,d.useState)(""),[S,f]=(0,d.useState)([]),[g,x]=(0,d.useState)(""),[j,v]=(0,d.useState)([]),[B,p]=(0,d.useState)(!1),[y,w]=(0,d.useState)(!1),E=new o.Z,[N,R]=(0,d.useState)(null),[Z,b]=(0,d.useState)(null),[_,F]=(0,d.useState)(!1),[I,k]=(0,d.useState)(!1),[C,D]=(0,d.useState)(!1);return(0,d.useEffect)(()=>{_||(async()=>{try{R(await E.getEstados()),F(!0)}catch(e){console.log(e),alert(r.c),window.location.href="../"}})(),B?(m(""),x(""),f([]),k(!1),b([]),D(!1)):""!=s&&null!=document.getElementById("estadoSearchBar")&&(document.getElementById("estadoSearchBar").value=s.nome),y?(I||(async()=>{try{b(await E.getMunicipiosFromEstado(s.id)),k(!0)}catch(e){console.log(e),alert(r.c),window.location.href="../"}})(),x(""),t([]),D(!1)):""==g||null==document.getElementById("cidadeSearchBar")||(document.getElementById("cidadeSearchBar").value=g.nome,C||fetch("https://servicodados.ibge.gov.br/api/v1/localidades/estados/"+s.id+"/regioes-metropolitanas").then(e=>e.json()).then(e=>{let t=e.filter(e=>e.municipios.some(e=>e.id===g.id));v(t)}))},[s,g,B,y,C]),(0,a.jsx)("div",{id:"pelaCidadePageContent",className:"h-full flex justify-center m-8",children:(0,a.jsx)("section",{className:"rounded-xl bg-slate-100 h-[28rem] w-96 overflow-y-auto",children:(0,a.jsxs)("div",{className:"m-4",children:[(()=>{if(null!=N)return(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:"Qual \xe9 o estado?"}),(0,a.jsx)(l.Z,{id:"estadoSearchBar",placeholder:"Digite o estado",maxLength:100,data:N,searchFor:"nome",setSearchResults:t,isFocused:p}),(0,a.jsx)(c.Z,{id:"estadoSearchResults",searchResults:e,orderBy:"nome",setSelectedResult:m,setSearchResults:t})]})})(),!B&&(()=>{if(""!=s&&Z!=[])return(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("div",{className:"font-semibold",children:"Qual \xe9 a cidade?"}),(0,a.jsx)(l.Z,{id:"cidadeSearchBar",placeholder:"Digite a cidade",data:Z,searchFor:"nome",setSearchResults:f,isFocused:w}),(0,a.jsx)(c.Z,{id:"cidadeSearchResults",searchResults:S,orderBy:"nome",setSelectedResult:x,setSearchResults:f})]})})(),!y&&""!=g&&(()=>{if(!C&&""!=s&&""!=g&&""!=document.getElementById("cidadeSearchBar").value)return i.Z.includes(g.id)?(0,a.jsx)(n.Z,{}):j.length>0?(0,a.jsx)(u.Z,{message:j[0].nome}):(0,a.jsx)(h.Z,{message:"N\xe3o faz parte de uma regi\xe3o metropolitana"})})()]})})})}}},function(e){e.O(0,[950,971,596,744],function(){return e(e.s=1356)}),_N_E=e.O()}]);